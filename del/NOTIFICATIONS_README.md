# üìß –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

## –û–ø–∏—Å–∞–Ω–∏–µ

API Health Monitor –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º —Å API –∏–ª–∏ –∏—Ö –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏.

## –¢–∏–ø—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### 1. Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è üìß

–û—Ç–ø—Ä–∞–≤–∫–∞ email –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º –∏–ª–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ API.

### 2. Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è üîî

–ë—Ä–∞—É–∑–µ—Ä–Ω—ã–µ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ.

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```yaml
notifications:
  email:
    enabled: true
    smtp_host: smtp.gmail.com
    smtp_port: 587
    smtp_user: your-email@gmail.com
    smtp_password: your-app-password
    from: api-monitor@example.com
    to:
      - admin@example.com
      - devops@example.com
    subject_prefix: "[API Monitor]"
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è Gmail

1. –í–∫–ª—é—á–∏—Ç–µ –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
2. –°–æ–∑–¥–∞–π—Ç–µ App Password:
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Google Account
   - Security ‚Üí 2-Step Verification ‚Üí App passwords
   - –°–æ–∑–¥–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å –¥–ª—è "Mail"
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ App Password –≤ `smtp_password`

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –¥—Ä—É–≥–∏—Ö –ø–æ—á—Ç–æ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

#### Outlook/Office 365
```yaml
smtp_host: smtp.office365.com
smtp_port: 587
```

#### Yahoo
```yaml
smtp_host: smtp.mail.yahoo.com
smtp_port: 587
```

#### Custom SMTP
```yaml
smtp_host: mail.example.com
smtp_port: 587  # –∏–ª–∏ 465 –¥–ª—è SSL
```

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

```yaml
notifications:
  push:
    enabled: true
```

Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–∞–∑—Ä–µ—à–∏–ª –∏—Ö.

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

```yaml
notifications:
  notify_on_failure: true      # –£–≤–µ–¥–æ–º–ª—è—Ç—å –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
  notify_on_recovery: true      # –£–≤–µ–¥–æ–º–ª—è—Ç—å –ø—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏
  notify_on_all_failures: false # –£–≤–µ–¥–æ–º–ª—è—Ç—å –ø—Ä–∏ –∫–∞–∂–¥–æ–π –æ—à–∏–±–∫–µ (false = —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è)
```

### –†–µ–∂–∏–º—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

#### 1. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```yaml
notify_on_all_failures: false
```
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –æ—à–∏–±–∫–µ
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏
- –ù–µ —É–≤–µ–¥–æ–º–ª—è–µ—Ç –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –æ—à–∏–±–∫–∞—Ö

#### 2. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –∫–∞–∂–¥–æ–π –æ—à–∏–±–∫–µ
```yaml
notify_on_all_failures: true
```
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏ –∫–∞–∂–¥–æ–π –ø—Ä–æ–≤–µ—Ä–∫–µ —Å –æ—à–∏–±–∫–æ–π
- –ú–æ–∂–µ—Ç –±—ã—Ç—å –º–Ω–æ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

---

## –ü—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```yaml
output_format: table
interval: 60

notifications:
  email:
    enabled: true
    smtp_host: smtp.gmail.com
    smtp_port: 587
    smtp_user: monitor@gmail.com
    smtp_password: xxxx-xxxx-xxxx-xxxx
    from: monitor@gmail.com
    to:
      - admin@company.com
    subject_prefix: "[API Monitor]"
  
  push:
    enabled: true
  
  notify_on_failure: true
  notify_on_recovery: true
  notify_on_all_failures: false

apis:
  - name: Production API
    url: https://api.production.com/health
    method: GET
    timeout: 5.0
    expected_status: 200
```

---

## –§–æ—Ä–º–∞—Ç Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö

**–¢–µ–º–∞:** `[API Monitor] –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å API (2)`

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:**
- –°–ø–∏—Å–æ–∫ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö API
- –û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
- HTTP –∫–æ–¥—ã (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã)
- –í—Ä–µ–º—è –ø—Ä–æ–≤–µ—Ä–∫–∏

### –ü—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏

**–¢–µ–º–∞:** `[API Monitor] API –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã`

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:**
- –°–ø–∏—Å–æ–∫ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö API
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–∞–±–æ—Ç—ã
- –í—Ä–µ–º—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### –¢–µ—Å—Ç Email

1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å —Ç–µ—Å—Ç–æ–≤—ã–º email
2. –î–æ–±–∞–≤—å—Ç–µ API, –∫–æ—Ç–æ—Ä–æ–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:
   ```bash
   api-monitor watch config.yaml
   ```
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—á—Ç—É

### –¢–µ—Å—Ç Push

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
2. –†–∞–∑—Ä–µ—à–∏—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ
3. –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–±–ª–µ–º–Ω—ã–π API
4. –î–æ–∂–¥–∏—Ç–µ—Å—å –ø—Ä–æ–≤–µ—Ä–∫–∏

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚ö†Ô∏è **–í–∞–∂–Ω–æ:**
- –ù–µ —Ö—Ä–∞–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª–∏ –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –ø–∞—Ä–æ–ª–µ–π (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ App Passwords –≤–º–µ—Å—Ç–æ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–∞—Ä–æ–ª–µ–π
- –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

---

## –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### Email –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SMTP
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω —Ñ–∞–π—Ä–≤–æ–ª–æ–º
4. –î–ª—è Gmail –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ App Password

### Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

1. –†–∞–∑—Ä–µ—à–∏—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±—Ä–∞—É–∑–µ—Ä –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Notifications API
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–∞–π—Ç –æ—Ç–∫—Ä—ã—Ç —á–µ—Ä–µ–∑ HTTP/HTTPS (–Ω–µ file://)

---

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏

```bash
# –ó–∞–ø—É—Å–∫ —Å email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏
api-monitor watch config_with_notifications.yaml

# –ó–∞–ø—É—Å–∫ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Å push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏
api-monitor watch config.yaml --web
```

---

**–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å –≤—ã –±—É–¥–µ—Ç–µ –ø–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å API! üìßüîî**

